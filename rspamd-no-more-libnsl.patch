diff -up rspamd-1.7.2/CMakeLists.txt.0002~ rspamd-1.7.2/CMakeLists.txt
--- rspamd-1.7.2/CMakeLists.txt.0002~	2018-04-09 21:44:47.260485099 +0200
+++ rspamd-1.7.2/CMakeLists.txt	2018-04-09 21:45:12.427374119 +0200
@@ -561,7 +561,6 @@ IF(CMAKE_SYSTEM_NAME STREQUAL "Linux")
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES rt)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES dl)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES resolv)
-	LIST(APPEND CMAKE_REQUIRED_LIBRARIES nsl)
 	MESSAGE(STATUS "Configuring for Linux")
 	IF(EXISTS "/etc/debian_version")
 		SET(LINUX_START_SCRIPT "rspamd_debian.in")
@@ -587,7 +586,6 @@ IF(CMAKE_SYSTEM_NAME STREQUAL "SunOS")
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES rt)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES dl)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES resolv)
-	LIST(APPEND CMAKE_REQUIRED_LIBRARIES nsl)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES socket)
 	LIST(APPEND CMAKE_REQUIRED_LIBRARIES umem)
 	# Ugly hack, but FindOpenSSL on Solaris does not link with libcrypto
